---
layout: post
title:  "Linux指令操作"
categories: OS
tags: OS Linux
author: Chester Cheung
---

* content
{:toc}


### Linux 命令寻找指定目录下的文件

在WINDOWS中，只要知道要查找的文件的文件名或者后缀就非常容易查找到，只要在桌面上点击“开始”－“搜索”中就能按照各种方式在本地硬盘上，局域网络，甚至在INTERNET上查找各种文件，文档。

可是使用Linux的用户就没有那么幸运了，在Linux上查找某个文件确实是一件比较麻烦的事情。毕竟在Linux中需要我们使用专用的“查找”命令来寻找在硬盘上的文件。Linux中查找文件的命令通常为“find”命令，“find”命令能帮助我们在使用,管理Linux的日常事务中方便的查找出我们需要的文件。对于Linux新手来说，“find”命令也是了解和学习Linux文件特点的方法。

> 通过文件名查找法

如果你知道这个文件在哪里，把这个文件放在单个的文件夹里面，只要使用常见的“ls"命令就能方便的查找出来；如果知道了某个文件的文件名，而不知道这个文件放到哪个文件夹，甚至是层层套嵌的文件夹里，则可以使用如下命令：

```php
    find / -name example.test
```

这个命令语法看起来很容易就明白了，就是直接在find后面写上 -name，表明要求系统按照文件名查找，最后写上example.test这个目标文件名即可,稍等一会系统会在计算机屏幕上显示出查找结果列表.

如果输入以上查找命令后系统并没有显示出结果，那么不要以为系统没有执行find/ -name httpd.conf命令，而可能是你的系统中没有安装Apache服务器，这时只要你安装了Apache Web服务器，然后再使用find / -name httpd.conf就能找到这个配置文件了。

在Linux系统查找文件也会遇到这样一个实际问题。如果我们在整个硬盘/整个系统中查找某个文件就要花费相当长的一段时间，特别是大型Linux系统和容量较大的硬盘，文件放在套嵌很深的目录中的时候。如果我们知道了这个文件存放在某个大的目录中，那么只要在这个目录中往下找就能节省很多时间了。使用find /etc -name httpd.conf 就可以解决这个问题。上面的命令就是表示在etc目录中查询httpd.conf这个文件。这里再说明一下“/ ”这个函数符号的含义，如果输入 “find / ”就是表示要求Linux系统在整个ROOT根目录下查找文件，也就是在整个硬盘上查找文件，而“find/etc”就是只在 etc目录下查找文件。因为“find/etc”表示只在etc目录下查找文件，所以查找的速度就相应要快很多了。

> 根据部分文件名查找方法：

这个方法和在WINDOWS中查找已知的文件名方法是一样的。不过在Linux中根据部分文件名查找文件的方法要比在WINDOWS中的同类查找方法要强大得多。例如我们知道某个文件包含有srm这3个字母，那么要找到系统中所有包含有这3个字母的文件是可以实现的，输入：

```php
　　find /etc -name '*srm*' 
```

这个命令表明了Linux系统将在/etc整个目录中查找所有的包含有srm这3个字母的文件，比如 absrmyz， tibc.srm等等符合条件的文件都能显示出来。如果你还知道这个文件是由srm 这3个字母打头的，那么我们还可以省略最前面的星号，命令如下：

```php
　　find/etc -name 'srm*' 
```

这是只有像srmyz 这样的文件才被查找出来，像absrmyz或者 absrm这样的文件都不符合要求，不被显示，这样查找文件的效率和可靠性就大大增强了。

> 根据文件的特征查询方法：

如果只知道某个文件的大小，修改日期等特征也可以使用“find”命令查找出来，这和windows系统中的"搜索"功能是基本相同的。

例如我们知道一个Linux文件大小为1,500 bytes，那么我们可是使用如下命令来查询

```php
    find / -size 1500c
```

字符c表明这个要查找的文件的大小是以bytes为单位。如果我们连这个文件的具体大小都不知道，那么在Linux中还可以进行**模糊查找**方式来解决。例如我们输入

```php
find/ -size +10000000c 
```

这个命令，则标明我们指定系统在根目录中查找出大于10000000字节的文件并显示出来。命令中的“＋”是表示要求系统只列出大于指定大小的文件，而使用“-”则表示要求系统列出小于指定大小的文件。下面的列表就是在Linux使用不同“ find"命令后系统所要作出的查找动作，从中我们很容易看出在Linux中使用“find"命令的方式是很多的，“ find"命令查找文件只要灵活应用，丝毫不必在windiws中查找能力差。

```php
　　find / -amin -10 # 查找在系统中最后10分钟访问的文件
　　find / -atime -2 # 查找在系统中最后48小时访问的文件
　　find / -empty # 查找在系统中为空的文件或者文件夹
　　find / -group cat # 查找在系统中属于 groupcat的文件
　　find / -mmin -5 # 查找在系统中最后5分钟里修改过的文件
　　find / -mtime -1 #查找在系统中最后24小时里修改过的文件
　　find / -nouser #查找在系统中属于作废用户的文件
　　find / -user fred #查找在系统中属于FRED这个用户的文件
```

> 查找并显示文件的方法

查找到某个文件是我们的目的，我们更想知道查找到的文件的详细信息和属性，如果我们采取现查找文件，在使用LS命令来查看文件信息是相当繁琐的，现在我们也可以把这两个命令结合起来使用。

```php
　find / -name "httpd.conf" -ls 
```
系统查找到httpd.conf文件后立即在屏幕上显示httpd.conf文件信息。


### Linux命令创建指定的名称的目录

要求：建目录的用户在当前目录中具有写权限，并且指定的目录名不能是当前目录中已有的目录。
```php
    mkdir [选项] 目录...
```

> 创建一个空目录 

```php
    mkdir test1
```

> 递归创建多个目录 

```php
    mkdir -p test2/test22
```

> 创建权限为777的目录 

```php
    mkdir -m 777 test3
```
查看权限可以通过一下命令查看：
```php
    ls -l 文件名称
    ls -ld 文件夹名称
```

> 创建新目录显示信息

```php
    mkdir -v test4
```
最后，通过终端输入**tree+查看目录名**即可看到整个当前目录子目录的所有文件结构。

### Linux命令删除指定文件

rm是常用的命令，该命令的功能为删除一个目录中的一个或多个文件或目录，它也可以将某个目录及其下的所有文件及子目录均删除。
```php
    rm [选项] 文件… 
```
功能：删除一个目录中的一个或多个文件或目录，如果没有使用- r选项，则rm不会删除目录。如果使用 rm 来删除文件，通常仍可以将该文件恢复原状。

-f, --force    忽略不存在的文件，从不给出提示。

-i, --interactive 进行交互式删除

-r, -R, --recursive   指示rm将参数中列出的全部目录和子目录均递归地删除。

-v, --verbose    详细显示进行的步骤

> 删除文件file，系统会先询问是否删除。 

```php
    rm 文件名
```

> 强行删除file，系统不再提示。 

```php
    rm -f log1.log
```

> 删除任何.log文件；删除前逐一询问确认 

```php
    rm -i *.log
```
> 将 test1子目录及子目录中所有档案删除

```php
    rm -r test1
```
> 将 test2 子目录及子目录中所有档案删除,并且不用一一确认
```php
    rm -rf  test2 
```
