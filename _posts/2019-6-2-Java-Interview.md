---
layout: post
title:  "Java Interview Practice"
categories: OS
tags: OS Linux
author: Chester Cheung
---

* content
{:toc}


### 1. 什么是Java虚拟机，为什么Java被称为是“平台无关型编程语言”

Java虚拟机是一个可以执行.class字节码文件的虚拟机进程，Java源文件被编译成能被Java虚拟机执行的.class 字节码文件。Java被设计成允许应用程序可以在任意平台运行，而不需要程序员为每一个平台专门重写或者是单独编译。Java的跨平台不是Java源程序的跨平台，Java源代码先被javac编译成二进制的.class字节码文件(其实Java的跨平台指的是.class文件的跨平台)，.class文件再运行在jvm上，jvm中的Java解释器会将其解释成对应平台的机器码文件进行执行。








### 2. Java中JDK和JRE的区别

JRE是Java runtime environment，是Java运行时环境，包括Java 虚拟机/Java基础类库/支持文件，他不包含有开发工具JDK/编译器/调试器等工具

JDK是Java Ddevelopment kit，是完整的Java软件开发包，其中包含了JRE，编译器和其他工具，可以让开发者开发/编译/执行Java应用程序

### 3. Static 关键字是什么意思？Java中是否可以覆盖一个private或者static方法？是否可以在static环境中访问非static变量？

static关键字是表示静态的含义，被static修饰的变量或方法称为类变量和类方法，他们可以在所属类没有被实例化的情况下被访问，本质上是随着类的加载而被加载的。

Java中的static修饰的方法是被静态绑定的，而方法的覆盖是为了实现多态，是基于运动时动态绑定的，所以static修饰的方法是不能被覆盖的。

Java也不能覆盖private的方法，因为被private修饰的变量和方法只能在当前类中使用，并且在当前类的子类中也是不可见的，所以不能被覆盖。

static变量在Java中是属于类的，他在所有的实例中都是一样的；当类被Java虚拟机载入的时候，会对static变量进行初始化。此时，如果你尝试不用实例来访问非static的变量，编译器就会报错，因为这些变量的实例还没有被创建出来，实际上还没有任何关联。

### 4.什么是Java自动装箱？

自动装箱是Java编译器在基本数据类型和对应的对象包装类型之间做的一个转化，比如：将int转化成integer，double转化成Double等等，反之，就是自动拆箱。Java支持的s数据类型有两种：一种是基本数据类型，包括byte，char，int，float，double，short，boolean，long；另一种是引用类型，比如String，其实是对象的引用。

JVM中虚拟栈中，引用类型声明的变量在内存中实际存储的是对象的地址，创建的对象实质在堆中，通过地址来找到堆中的对象的过程，就是引用类型。

### 5.Java中的方法重写Overriding和方法重载Overloading是什么意思？

方法重载发生在同一个类里面两个或是多个方法名相同但是参数不同的情况；与此相对，方法重写说的是子类重新定义了父类的方法。方法重写必须有相同的方法名/参数列表/返回类型。

### 6. Java支持多继承吗？

Javan不支持多继承，只支持单继承，但是Java的接口支持多继承，即一个子类可以实现多个父类的接口，接口是用来拓展对象的功能的，子类继承了多个父类接口，说明子类拓展了多个父类的功能。

### 7. 接口和抽象类的区别是什么？

Java提供和支持创建抽象类和接口，本质上**抽象是对类的抽象，是一种模版设计；接口是对行为的抽象，是一种行为规范**，不同点在于：

1. 接口中所有的方法隐含都是抽象的，而抽象类中则可以同时包含抽象和非抽象方法。

2. 类可以继承多个接口，但是只能实现一个抽象类

3. 抽象类中的成员变量可以是任何类型的，但是接口中的成员变量只能是public static final类型的

### 8.值传递和引用传递

值传递是对于基本类型变量而言的，传递的是该变量的一个副本，改变副本不影响原变量；引用传递一般是对于对象型变量而言的，传递的是该对象地址的一个副本，并不是原对象本身。

通常认为，Java中基础类型的数据传递都是值传递，实例对象的传递都是引用传递。

### 9.线程和进程的区别是什么？

进程是执行着的应用程序，而线程是进程内部的一个执行序列；进程是资源分配的单元，线程是cpu调度和执行的单元；进程间切换代价大，线程间切换代价小；进程拥有的资源多，线程拥有的资源少；一个进程j可以有多个线程，线程又叫轻量级的进程，多个线程共享进程的资源。

### 10. 创建线程有几种不同的方式，喜欢哪一种？

4中方法创建线程：1.继承Thread类(真正意义上的线程类)，2.实现Runnable接口并重写里面的run方法，3.应用程序可以使用Executor框架来创建线程池，4. 实现Callable接口，重写call方法，有返回值

其中，实现Runnable这种方法最受欢迎，因为不需要继承Thread类，因为Java是单继承的。

### 11. 概括下线程的几种可用状态

![线程](https://zhyChesterCheung.github.io/photos/xiancheng.jpg)

1. 新建new：新创建了一个线程对象

2. 可运行runnable：线程对象创建后，其他线程调用了该对象的start()方法，该状态的线程位于可运行的线程池中，等待被线程调度选中，获得cpu的使用权

3. 运行running：可运行状态的线程获得了cpu的时间片，执行程序代码

4. 阻塞block：线程因为某种原因放弃了cpu的使用权，也即让出了time slice，暂时停止运行，直到线程进入runnable的状态才有机会再次获得cpu的time slice转到运行状态，其中阻塞分为3种情况：

(1) 等待阻塞：运行的线程执行wait()方法，jvm会将该线程放入等待队列

(2)同步阻塞：运行的线程在获得对象的同步锁时，若该同步锁被别的线程占用，则jvm会把该线程放入线程池lock pool中

(3)其他阻塞：运行的线程执行Thread.sleep()或者join方法，或者发出I/O请求，jvm会把他设为阻塞状态

5. 死亡：线程run，main方法执行结束，或者因异常退出了run方法，则该线程结束生命周期，死亡的线程不可复生。

### 12. 同步方法和同步代码块的区别是什么？

Java允许多线程并发控制，当多个线程同时操作一个可共享的资源变量时(如数据的增删查改)，将会导致数据的不准确，相互之间发生冲突，因此加入锁的作用就是，避免在线程没有完成操作之前，被其他线程调用，从而保证了该变量的唯一性和准确性。

同步方法，就是有synchronized关键字修饰的方法，由于Java对象都默认用this或当前class作为锁(内置锁)，内置锁会保护整个方法，；

同步代码块可以选择以什么来加锁，比同步方法要更细颗粒度，我们可以选择只同步会发生同步问题的部分代码，而不是整个代码。同步方法使用关键字synchronized修饰方法，而同步代码块主要是修饰需要进行同步的代码，用synchronized(object) {代码内容} 进行修饰；(同步是一种高消耗的操作，因此应该尽量减少同步的内容)

### 13. 在监视器Monitor内部，是如何实现线程同步的？程序应该实现哪种级别的同步？

在Java虚拟机中，每个对象都通过某种逻辑关联监视器，每个监视器和一个对象引用相关联；为了实现监视器的互斥功能，每个对象都关联着一把锁。监视器和锁在Java中时一起使用的，监视器监视一块同步代码，确保一次只有一个线程执行同步代码块。

线程在获取锁之前不允许执行同步代码。

### 14. 什么是死锁deadlock？

死锁是多个进程间因资源竞争而导致的一种僵局(互相等待)，若无外力作用，这些进程都无法向前推进。死锁产生的4个条件：

+ 互斥条件：一个资源一次只能被一个进程使用？如何有效避免死锁？

+ 不剥夺条件：进程所获得的资源在未使用完毕之前，不能被其他进程强行夺走，只能由获得该资源的进程自己主动来释放。

+ 请求与保持条件：一个进程因为请求其他资源而被阻塞时，对于已获得的资源保持不放。

+ 循环等待条件：若干进程之间形成一种头尾相接的循环等待资源的关系。

只要破坏了其中一个条件就可以破坏死锁，其中最简单的方法就是：破坏循环等待条件，指定获取锁的顺序，避免相互等待，并强制线程按照指定的顺序获取锁，让所有的线程都以同样的顺序加锁和释放锁，就不会出现死锁了。

### 15. Java集合类框架的基本接口有哪些？

总共有两大接口：Collection和Map，一个是元素集合，一个是键值对的集合；

其中List和Set实现了Collection接口，一个是有序元素集合，一个是无序元素集合；而ArrayList和LinkedList实现了List接口，HashSet实现了Set接口；

HashMap，TreeMap和HashTable实现了Map接口，并且HashTable是线程安全的，但是HashMap性能更好。

![线程2](https://zhyChesterCheung.github.io/photos/Array.jpg)


