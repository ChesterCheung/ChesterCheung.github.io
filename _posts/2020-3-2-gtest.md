---
layout: post
title:  "Gtest单元测试框架"
categories: Test
tags: OS Test
author: Chester Cheung
---

* content
{:toc}

### 引言

文章中将先介绍单元测试的相关概念，然后引入Google的开源C++单元测试框架Gtest，对C++的各种单元测试场景提供完备的支持，最后通过编译、运行Gtest自带的一个测试样例，介绍如何在Unix/Linux下使用Gtest。







### 单元测试

说到单元测试，大家应该不会陌生。作为软件开发过程中最底层级别的测试环节，单元测试一般由开发人员自己完成。它的目的是隔离程序部件，并证明这些单个部件满足预期的功能。在静态程序分析、代码检视之后进行单元测试，可以帮助我们在开发过程的早期发现问题。好的测试具备以下特点：

> 1.独立性

一个测试用例应该是独立的，所谓“独立”，即该测试用例的测试结果不受其他测试的影响

> 2.有效的组织架构，清晰的命名。

各个测试用例针对不同的测试对象，而对单个测试对象而言，又可能有多个测试用例对应该对象的多个功能。好的习惯是把这些用例以层次结构的形式组织起来，并使用清晰的命名，使得我们通过阅读用例名称即可明了该用例的功能。

> 3.可移植、可复用。

像我们对程序平台性无关的苛刻要求一样，对于优秀的测试，我们也期望做到在不同的操作系统、编译器间进行方便地移植。

> 4.当用例失败时，提供尽可能多的有效信息。

毋庸置疑，提示信息越是清晰和全面，越方便我们定位问题、高效地找出程序中的bug。

如今有不少测试框架帮助我们完成单元测试，像针对C++的有Google Test、CppUnit，针对C的有CUnit，针对Java的有JUnit，这些测试框架为我们实现独立、可移植、可复用、有组织的测试提供了条件，使我们能够专注于编写程序功能相关的测试代码。下面介绍Gtest的使用方法。

### Google C++单元测试框架

Google C++单元测试框架（简称Gtest），可在多个平台上使用（包括Linux, Mac OS X, Windows, Cygwin和Symbian），它提供了丰富的断言、致命和非致命失败判断，能进行值参数化测试、类型参数化测试、“死亡测试”。Gtest是一个开源的项目，目前的代码发行版是1.6.0。


